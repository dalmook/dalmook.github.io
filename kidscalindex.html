<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ì–´ë¦°ì´ ê³„ì‚°ê¸°</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f8ff;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .display-area {
            width: 90%;
            min-height: 150px;
            border: 2px solid #4CAF50;
            border-radius: 10px;
            background-color: #ffffff;
            margin-bottom: 20px;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-start;
            overflow-y: auto;
        }
        .fruit {
            width: 50px;
            height: 50px;
            margin: 5px;
            position: relative;
        }
        .fruit img {
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }
        .count {
            position: absolute;
            bottom: 0;
            right: 0;
            background-color: rgba(255,255,255,0.7);
            border-radius: 50%;
            padding: 2px 6px;
            font-size: 14px;
            font-weight: bold;
        }
        .buttons-row {
            width: 90%;
            display: flex;
            justify-content: center;
            margin-bottom: 10px;
        }
        .buttons-row .button {
            width: 60px;
            height: 60px;
            margin: 5px;
            border: none;
            border-radius: 10px;
            background-color: #ffcccb;
            font-size: 24px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .buttons-row .button.operator {
            background-color: #add8e6;
        }
        .buttons-row .button:active {
            background-color: #ddd;
        }
        .result-area {
            width: 90%;
            min-height: 150px;
            border: 2px solid #ffa500;
            border-radius: 10px;
            background-color: #fffaf0;
            margin-bottom: 20px;
            padding: 10px;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-start;
            overflow-y: auto;
        }
        h1 {
            color: #333;
        }
    </style>
</head>
<body>

    <h1>ì–´ë¦°ì´ ê³„ì‚°ê¸°</h1>

    <!-- ê²°ê³¼ í‘œì‹œ ì˜ì—­ -->
    <div class="result-area" id="result-area">
        <!-- ê²°ê³¼ ê³¼ì¼ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
    </div>

    <!-- í˜„ì¬ ê³„ì‚°ì‹ í‘œì‹œ ì˜ì—­ -->
    <div class="display-area" id="display-area">
        <!-- í˜„ì¬ ê³„ì‚°ì‹ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
    </div>

    <!-- ê³¼ì¼ ë²„íŠ¼ í–‰ -->
    <div class="buttons-row" id="fruits-row">
        <!-- 9ì¢…ë¥˜ì˜ ê³¼ì¼ ë²„íŠ¼ -->
        <!-- ì˜ˆì‹œë¡œ ì‚¬ê³¼, ë°”ë‚˜ë‚˜, ì˜¤ë Œì§€ ë“± 9ê°€ì§€ ê³¼ì¼ì„ ì‚¬ìš© -->
        <!-- ì‹¤ì œ ì´ë¯¸ì§€ URLë¡œ êµì²´í•˜ì„¸ìš” -->
        <button class="button fruit-button" data-fruit="apple">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ" alt="ì‚¬ê³¼">
        </button>
        <button class="button fruit-button" data-fruit="banana">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸŒ" alt="ë°”ë‚˜ë‚˜">
        </button>
        <button class="button fruit-button" data-fruit="orange">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸŠ" alt="ì˜¤ë Œì§€">
        </button>
        <button class="button fruit-button" data-fruit="grape">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ‡" alt="í¬ë„">
        </button>
        <button class="button fruit-button" data-fruit="strawberry">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ“" alt="ë”¸ê¸°">
        </button>
        <button class="button fruit-button" data-fruit="pineapple">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ" alt="íŒŒì¸ì• í”Œ">
        </button>
        <button class="button fruit-button" data-fruit="watermelon">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ‰" alt="ìˆ˜ë°•">
        </button>
        <button class="button fruit-button" data-fruit="cherry">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ’" alt="ì²´ë¦¬">
        </button>
        <button class="button fruit-button" data-fruit="pear">
            <img src="https://via.placeholder.com/50x50.png?text=ğŸ" alt="ë°°">
        </button>
    </div>

    <!-- ì—°ì‚°ì ë²„íŠ¼ í–‰ -->
    <div class="buttons-row" id="operators-row">
        <button class="button operator" data-operator="+">+</button>
        <button class="button operator" data-operator="-">-</button>
        <button class="button operator" data-operator="*">Ã—</button>
        <button class="button operator" data-operator="/">Ã·</button>
        <button class="button operator" data-operator="=">=</button>
    </div>

    <script>
        // ê³¼ì¼ ë°ì´í„°
        const fruitsData = {
            apple: { name: 'ì‚¬ê³¼', img: 'https://via.placeholder.com/50x50.png?text=ğŸ' },
            banana: { name: 'ë°”ë‚˜ë‚˜', img: 'https://via.placeholder.com/50x50.png?text=ğŸŒ' },
            orange: { name: 'ì˜¤ë Œì§€', img: 'https://via.placeholder.com/50x50.png?text=ğŸŠ' },
            grape: { name: 'í¬ë„', img: 'https://via.placeholder.com/50x50.png?text=ğŸ‡' },
            strawberry: { name: 'ë”¸ê¸°', img: 'https://via.placeholder.com/50x50.png?text=ğŸ“' },
            pineapple: { name: 'íŒŒì¸ì• í”Œ', img: 'https://via.placeholder.com/50x50.png?text=ğŸ' },
            watermelon: { name: 'ìˆ˜ë°•', img: 'https://via.placeholder.com/50x50.png?text=ğŸ‰' },
            cherry: { name: 'ì²´ë¦¬', img: 'https://via.placeholder.com/50x50.png?text=ğŸ’' },
            pear: { name: 'ë°°', img: 'https://via.placeholder.com/50x50.png?text=ğŸ' }
        };

        // ê³„ì‚° ë¡œì§ ë³€ìˆ˜
        let currentOperand = 0;
        let currentOperator = null;
        let previousOperand = null;

        // DOM ìš”ì†Œ
        const displayArea = document.getElementById('display-area');
        const resultArea = document.getElementById('result-area');
        const fruitButtons = document.querySelectorAll('.fruit-button');
        const operatorButtons = document.querySelectorAll('.operator');

        // ê³¼ì¼ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        fruitButtons.forEach(button => {
            button.addEventListener('click', () => {
                addFruit();
            });
        });

        // ì—°ì‚°ì ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        operatorButtons.forEach(button => {
            button.addEventListener('click', () => {
                const operator = button.getAttribute('data-operator');
                handleOperator(operator);
            });
        });

        // ê³¼ì¼ ì¶”ê°€ í•¨ìˆ˜
        function addFruit() {
            currentOperand += 1;
            updateDisplay();
        }

        // ì—°ì‚°ì ì²˜ë¦¬ í•¨ìˆ˜
        function handleOperator(operator) {
            if (operator === '=') {
                if (currentOperator && previousOperand !== null) {
                    const result = calculate(previousOperand, currentOperator, currentOperand);
                    displayResult(result);
                    // ì´ˆê¸°í™”
                    currentOperand = 0;
                    currentOperator = null;
                    previousOperand = null;
                    updateDisplay();
                }
            } else {
                if (currentOperator && previousOperand !== null) {
                    // ì—°ì†ëœ ì—°ì‚°ì ì²˜ë¦¬
                    previousOperand = calculate(previousOperand, currentOperator, currentOperand);
                    currentOperator = operator;
                    currentOperand = 0;
                } else {
                    previousOperand = currentOperand;
                    currentOperator = operator;
                    currentOperand = 0;
                }
                updateDisplay();
            }
        }

        // ê³„ì‚° í•¨ìˆ˜
        function calculate(a, operator, b) {
            switch(operator) {
                case '+':
                    return a + b;
                case '-':
                    return a - b;
                case '*':
                    return a * b;
                case '/':
                    return b !== 0 ? a / b : 0;
                default:
                    return 0;
            }
        }

        // ë””ìŠ¤í”Œë ˆì´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateDisplay() {
            // í˜„ì¬ ê³„ì‚°ì‹ í‘œì‹œ
            displayArea.innerHTML = '';

            if (previousOperand !== null) {
                // ì´ì „ í”¼ì—°ì‚°ì í‘œì‹œ
                for (let i = 0; i < previousOperand; i++) {
                    const fruitImg = document.createElement('img');
                    fruitImg.src = getRandomFruitImage();
                    fruitImg.style.width = '30px';
                    fruitImg.style.height = '30px';
                    fruitImg.style.margin = '2px';
                    displayArea.appendChild(fruitImg);
                }

                // ì—°ì‚°ì í‘œì‹œ
                if (currentOperator) {
                    const operatorSpan = document.createElement('span');
                    operatorSpan.textContent = ` ${currentOperator} `;
                    operatorSpan.style.fontSize = '24px';
                    operatorSpan.style.margin = '5px';
                    displayArea.appendChild(operatorSpan);
                }
            }

            // í˜„ì¬ í”¼ì—°ì‚°ì í‘œì‹œ
            for (let i = 0; i < currentOperand; i++) {
                const fruitImg = document.createElement('img');
                fruitImg.src = getRandomFruitImage();
                fruitImg.style.width = '30px';
                fruitImg.style.height = '30px';
                fruitImg.style.margin = '2px';
                displayArea.appendChild(fruitImg);
            }
        }

        // ê²°ê³¼ í‘œì‹œ í•¨ìˆ˜
        function displayResult(result) {
            resultArea.innerHTML = '';
            const roundedResult = Math.round(result);
            for (let i = 0; i < roundedResult; i++) {
                const fruitImg = document.createElement('img');
                fruitImg.src = getRandomFruitImage();
                fruitImg.style.width = '50px';
                fruitImg.style.height = '50px';
                fruitImg.style.margin = '5px';
                resultArea.appendChild(fruitImg);
            }
        }

        // ëœë¤ ê³¼ì¼ ì´ë¯¸ì§€ ì„ íƒ í•¨ìˆ˜
        function getRandomFruitImage() {
            const fruitKeys = Object.keys(fruitsData);
            const randomKey = fruitKeys[Math.floor(Math.random() * fruitKeys.length)];
            return fruitsData[randomKey].img;
        }

    </script>

</body>
</html>
